import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Theming" />

# Customizing the Theme

MeldUI uses CSS variables with OKLCH colors for theming. The theme is designed for Tailwind CSS v4's CSS-first approach.

## Theme Structure

MeldUI themes define two layers of variables:

1. **Base variables** (`:root` / `.dark`) - Raw color values
2. **Tailwind theme variables** (`@theme inline`) - Map base variables to Tailwind utilities

```css
/* Base variables */
:root {
  --primary: oklch(0.208 0.042 265.755);
  --primary-foreground: oklch(0.984 0.003 247.858);
}

/* Tailwind integration */
@theme inline {
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
}
```

## Customizing Colors

Override base variables in your CSS **after** importing the theme:

```css
@import "tailwindcss";
@import "@meldui/vue/themes/default";

/* Your overrides */
:root {
  --primary: oklch(0.6 0.2 280);        /* Purple */
  --primary-foreground: oklch(1 0 0);   /* White */
  --radius: 0.5rem;                      /* Rounder corners */
}

.dark {
  --primary: oklch(0.7 0.2 280);        /* Lighter purple for dark mode */
}
```

## Available Variables

### Colors

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>--background</code></td><td>Page background</td></tr>
    <tr><td><code>--foreground</code></td><td>Default text color</td></tr>
    <tr><td><code>--primary</code></td><td>Primary brand color</td></tr>
    <tr><td><code>--primary-foreground</code></td><td>Text on primary</td></tr>
    <tr><td><code>--secondary</code></td><td>Secondary actions</td></tr>
    <tr><td><code>--secondary-foreground</code></td><td>Text on secondary</td></tr>
    <tr><td><code>--muted</code></td><td>Subtle backgrounds</td></tr>
    <tr><td><code>--muted-foreground</code></td><td>Subtle text</td></tr>
    <tr><td><code>--accent</code></td><td>Accent/highlight</td></tr>
    <tr><td><code>--accent-foreground</code></td><td>Text on accent</td></tr>
    <tr><td><code>--destructive</code></td><td>Error/danger states</td></tr>
    <tr><td><code>--success</code></td><td>Success states</td></tr>
    <tr><td><code>--warning</code></td><td>Warning states</td></tr>
    <tr><td><code>--info</code></td><td>Info states</td></tr>
  </tbody>
</table>

### UI Elements

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>--card</code></td><td>Card background</td></tr>
    <tr><td><code>--card-foreground</code></td><td>Card text</td></tr>
    <tr><td><code>--popover</code></td><td>Popover/dropdown background</td></tr>
    <tr><td><code>--popover-foreground</code></td><td>Popover text</td></tr>
    <tr><td><code>--border</code></td><td>Border color</td></tr>
    <tr><td><code>--input</code></td><td>Input border</td></tr>
    <tr><td><code>--ring</code></td><td>Focus ring</td></tr>
  </tbody>
</table>

### Border Radius

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>--radius</code></td><td><code>0.625rem</code> (base)</td></tr>
    <tr><td><code>--radius-sm</code></td><td><code>calc(var(--radius) - 4px)</code></td></tr>
    <tr><td><code>--radius-md</code></td><td><code>calc(var(--radius) - 2px)</code></td></tr>
    <tr><td><code>--radius-lg</code></td><td><code>var(--radius)</code></td></tr>
    <tr><td><code>--radius-xl</code></td><td><code>calc(var(--radius) + 4px)</code></td></tr>
  </tbody>
</table>

## Dark Mode

MeldUI uses a class-based dark mode. Add the `dark` class to enable:

```vue
<template>
  <div class="dark">
    <!-- Dark mode content -->
  </div>
</template>
```

Toggle programmatically:

```typescript
document.documentElement.classList.toggle('dark')
```

The theme includes a `@custom-variant` for dark mode:

```css
@custom-variant dark (&:is(.dark *));
```

This enables `dark:` variants in Tailwind classes.

## Icon Colors

Icons use `currentColor` and inherit from the parent's text color:

```vue
<template>
  <!-- Icon inherits red color -->
  <span class="text-red-500">
    <IconX />
  </span>

  <!-- Or directly on the icon -->
  <IconCheck class="text-green-500" />
</template>
```

## OKLCH Color Format

MeldUI uses OKLCH colors for better perceptual uniformity:

```css
/* OKLCH: Lightness, Chroma, Hue */
--primary: oklch(0.6 0.2 260);
/*              ^    ^    ^
                |    |    └── Hue (0-360)
                |    └─────── Chroma (0-0.4)
                └──────────── Lightness (0-1)
*/
```

Benefits:
- Consistent perceived brightness across hues
- Better color manipulation
- Modern CSS standard

## Creating Custom Themes

Create a new theme file:

```css
/* themes/ocean.css */
@custom-variant dark (&:is(.dark *));

@theme inline {
  /* ... same structure as default ... */
}

:root {
  --primary: oklch(0.55 0.15 220);      /* Ocean blue */
  --background: oklch(0.98 0.01 220);   /* Slight blue tint */
  /* ... other overrides ... */
}

.dark {
  --primary: oklch(0.65 0.15 220);
  --background: oklch(0.15 0.02 220);
}
```

Then import it instead of the default:

```css
@import "tailwindcss";
@import "./themes/ocean.css";
```
