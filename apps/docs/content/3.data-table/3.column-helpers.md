---
title: Column Helpers
description: Utility functions for defining columns with sorting, filtering, and formatting.
---

# Column Helpers

The `createColumnHelper` factory provides a type-safe, ergonomic API for defining DataTable columns. It wraps TanStack Table's `ColumnDef` with sensible defaults and automatic header rendering.

## Creating a Column Helper

Pass your row data type as a generic parameter:

```ts
import { createColumnHelper } from '@meldui/vue'

interface Product {
  id: number
  name: string
  category: string
  price: number
  inStock: boolean
  createdAt: string
}

const helper = createColumnHelper<Product>()
```

The helper provides five column creation methods: `accessor`, `display`, `selection`, `actions`, and `expander`.

## Accessor Columns

Accessor columns map directly to a property on your data type. They are the most common column type.

```ts
helper.accessor('name', {
  title: 'Product Name',
})
```

The accessor key is type-checked against your data interface, so `helper.accessor('nonexistent', ...)` would produce a TypeScript error.

### AccessorColumnOptions

| Option          | Type                                                          | Default     | Description                                                 |
| --------------- | ------------------------------------------------------------- | ----------- | ----------------------------------------------------------- |
| `title`         | `string`                                                      | required    | Text displayed in the column header                         |
| `enableSorting` | `boolean`                                                     | `true`      | Whether the column can be sorted                            |
| `enableHiding`  | `boolean`                                                     | `true`      | Whether the column can be hidden via View Options           |
| `enablePinning` | `boolean`                                                     | `true`      | Whether the column can be pinned left/right                 |
| `cell`          | `(props: CellContext) => VNode \| string \| number \| null`   | auto        | Custom cell renderer (defaults to displaying the raw value) |
| `footer`        | `(props: HeaderContext) => VNode \| string \| number \| null` | none        | Footer renderer for aggregations                            |
| `size`          | `number`                                                      | `undefined` | Preferred column width in pixels                            |
| `minSize`       | `number`                                                      | `undefined` | Minimum column width                                        |
| `maxSize`       | `number`                                                      | `undefined` | Maximum column width                                        |
| `meta`          | `Record<string, unknown>`                                     | `undefined` | Arbitrary metadata attached to the column                   |

### Examples

```ts
// Basic column
helper.accessor('name', { title: 'Name' })

// Non-sortable column
helper.accessor('description', {
  title: 'Description',
  enableSorting: false,
})

// Column with fixed width
helper.accessor('id', {
  title: 'ID',
  size: 80,
  minSize: 60,
  maxSize: 100,
})

// Column with custom cell rendering (using render function)
helper.accessor('price', {
  title: 'Price',
  cell: ({ getValue }) => {
    const value = getValue()
    return `$${value.toFixed(2)}`
  },
})

// Column with footer aggregation
import { aggregations } from '@meldui/vue'

helper.accessor('price', {
  title: 'Price',
  footer: aggregations.sum({ format: 'currency', currency: 'USD' }),
})
```

## Display Columns

Display columns have no data accessor. They are used for columns that compute their content from the entire row, or for purely visual columns.

```ts
helper.display({
  id: 'fullName',
  title: 'Full Name',
  cell: ({ row }) => {
    return `${row.original.firstName} ${row.original.lastName}`
  },
})
```

### DisplayColumnOptions

| Option          | Type                                                        | Default     | Description                      |
| --------------- | ----------------------------------------------------------- | ----------- | -------------------------------- |
| `id`            | `string`                                                    | required    | Unique column identifier         |
| `title`         | `string`                                                    | `undefined` | Header text (omit for no header) |
| `cell`          | `(props: CellContext) => VNode \| string \| number \| null` | required    | Cell renderer function           |
| `enableHiding`  | `boolean`                                                   | `true`      | Whether the column can be hidden |
| `enablePinning` | `boolean`                                                   | `true`      | Whether the column can be pinned |
| `size`          | `number`                                                    | `undefined` | Preferred column width           |
| `minSize`       | `number`                                                    | `undefined` | Minimum column width             |
| `maxSize`       | `number`                                                    | `undefined` | Maximum column width             |
| `meta`          | `Record<string, unknown>`                                   | `undefined` | Arbitrary metadata               |

Display columns have sorting disabled automatically.

## Selection Column

Creates a checkbox column for row selection. Place it as the first column in your array.

```ts
const columns = [
  helper.selection(),
  helper.accessor('name', { title: 'Name' }),
  // ...
]
```

Remember to also enable selection on the DataTable component:

```vue
<DataTable :columns="columns" :enable-row-selection="true" ... />
```

### SelectionColumnOptions

| Option          | Type      | Default    | Description                      |
| --------------- | --------- | ---------- | -------------------------------- |
| `id`            | `string`  | `'select'` | Column identifier                |
| `enablePinning` | `boolean` | `true`     | Whether the column can be pinned |
| `size`          | `number`  | `32`       | Column width (fixed)             |

The selection column renders:

- A header checkbox that toggles all rows on the current page
- A row checkbox that toggles individual row selection
- An indeterminate state when some (but not all) rows are selected

The column has sorting, hiding, and resizing disabled automatically.

## Actions Column

Creates a column with row-level action buttons. Supports two display modes: `dropdown` (default) and `inline`.

### Dropdown Mode

```ts
helper.actions({
  display: 'dropdown',
  actions: [
    {
      label: 'View Details',
      icon: IconEye,
      onClick: (row) => router.push(`/products/${row.original.id}`),
    },
    {
      label: 'Edit',
      icon: IconEdit,
      onClick: (row) => openEditDialog(row.original),
    },
    {
      label: 'Delete',
      icon: IconTrash,
      variant: 'destructive',
      onClick: (row) => confirmDelete(row.original),
      show: (row) => row.original.canDelete,
    },
  ],
})
```

Dropdown mode renders a `...` (dots) icon button that opens a dropdown menu with the defined actions.

### Inline Mode

```ts
helper.actions({
  display: 'inline',
  title: 'Actions',
  actions: [
    {
      label: 'Approve',
      icon: IconCheck,
      variant: 'outline',
      onClick: (row) => approve(row.original),
      disabled: (row) => row.original.status === 'approved',
    },
    {
      label: 'Reject',
      icon: IconX,
      variant: 'destructive',
      onClick: (row) => reject(row.original),
    },
  ],
})
```

Inline mode renders visible buttons directly in the cell.

### ActionsColumnOptions

| Option          | Type                     | Default                                | Description                                  |
| --------------- | ------------------------ | -------------------------------------- | -------------------------------------------- |
| `display`       | `'inline' \| 'dropdown'` | `'dropdown'`                           | How actions are rendered                     |
| `actions`       | `ActionDefinition[]`     | required                               | Array of action definitions                  |
| `id`            | `string`                 | `'actions'`                            | Column identifier                            |
| `title`         | `string`                 | `'Actions'` (inline) / none (dropdown) | Header text                                  |
| `dropdownLabel` | `string`                 | `'Actions'`                            | Screen reader label for the dropdown trigger |
| `enableHiding`  | `boolean`                | `false`                                | Whether the column can be hidden             |
| `enablePinning` | `boolean`                | `true`                                 | Whether the column can be pinned             |
| `size`          | `number`                 | `undefined`                            | Column width                                 |
| `minSize`       | `number`                 | `undefined`                            | Minimum column width                         |

### ActionDefinition

| Property   | Type                                                                          | Description                                                                     |
| ---------- | ----------------------------------------------------------------------------- | ------------------------------------------------------------------------------- |
| `label`    | `string`                                                                      | Action text label                                                               |
| `icon`     | `Component`                                                                   | Optional icon component displayed before the label                              |
| `variant`  | `'default' \| 'destructive' \| 'outline' \| 'secondary' \| 'ghost' \| 'link'` | Button variant (inline mode) or text color (dropdown mode)                      |
| `onClick`  | `(row: Row<TData>) => void`                                                   | Click handler receiving the TanStack Row object; access data via `row.original` |
| `show`     | `(row: Row<TData>) => boolean`                                                | Conditionally show/hide the action per row                                      |
| `disabled` | `(row: Row<TData>) => boolean`                                                | Conditionally disable the action per row                                        |

## Expander Column

Creates a column with an expand/collapse toggle button for row expansion.

```ts
const columns = [
  helper.expander(),
  helper.accessor('name', { title: 'Name' }),
  // ...
]
```

Enable row expansion on the DataTable:

```vue
<DataTable :columns="columns" :enable-row-expansion="true" ...>
  <template #expanded-row="{ row }">
    <div class="p-4">
      <h3>Details for {{ row.original.name }}</h3>
      <p>{{ row.original.description }}</p>
    </div>
  </template>
</DataTable>
```

### ExpanderColumnOptions

| Option          | Type                           | Default             | Description                               |
| --------------- | ------------------------------ | ------------------- | ----------------------------------------- |
| `id`            | `string`                       | `'expander'`        | Column identifier                         |
| `enablePinning` | `boolean`                      | `true`              | Whether the column can be pinned          |
| `size`          | `number`                       | `40`                | Column width (fixed)                      |
| `getCanExpand`  | `(row: Row<TData>) => boolean` | all rows expandable | Control which rows show the expand toggle |

## Putting It All Together

Here is a complete column definition example using all column types:

```ts
import { createColumnHelper, cellRenderers, aggregations } from '@meldui/vue'
import { IconEdit, IconTrash, IconEye } from '@meldui/tabler-vue'

interface Order {
  id: number
  customer: string
  product: string
  amount: number
  status: 'pending' | 'shipped' | 'delivered' | 'cancelled'
  orderDate: string
  notes: string
}

const helper = createColumnHelper<Order>()

const columns = [
  // Selection checkbox
  helper.selection(),

  // Row expander
  helper.expander(),

  // Data columns
  helper.accessor('id', {
    title: 'Order ID',
    size: 100,
  }),
  helper.accessor('customer', {
    title: 'Customer',
  }),
  helper.accessor('product', {
    title: 'Product',
    enableSorting: false,
  }),
  helper.accessor('amount', {
    title: 'Amount',
    cell: cellRenderers.currency({ currency: 'USD' }),
    footer: aggregations.sum({ format: 'currency', currency: 'USD' }),
  }),
  helper.accessor('status', {
    title: 'Status',
    cell: cellRenderers.badge({
      variantMap: {
        pending: 'outline',
        shipped: 'secondary',
        delivered: 'default',
        cancelled: 'destructive',
      },
    }),
  }),
  helper.accessor('orderDate', {
    title: 'Order Date',
    cell: cellRenderers.date({ format: 'medium' }),
  }),

  // Computed display column
  helper.display({
    id: 'summary',
    title: 'Summary',
    cell: ({ row }) => `${row.original.customer} - ${row.original.product}`,
  }),

  // Actions column
  helper.actions({
    display: 'dropdown',
    actions: [
      { label: 'View', icon: IconEye, onClick: (row) => viewOrder(row.original) },
      { label: 'Edit', icon: IconEdit, onClick: (row) => editOrder(row.original) },
      {
        label: 'Delete',
        icon: IconTrash,
        variant: 'destructive',
        onClick: (row) => deleteOrder(row.original),
        show: (row) => row.original.status !== 'delivered',
      },
    ],
  }),
]
```
