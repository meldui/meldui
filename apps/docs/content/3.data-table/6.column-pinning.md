---
title: Column Pinning
description: Pin columns to the left or right edge of the table.
---

# Column Pinning

Column pinning freezes columns to the left or right edge of the table so they remain visible as the user scrolls horizontally. This is useful for keeping identifying columns (like names or IDs) and action columns always in view.

## Enabling Column Pinning

Set `enableColumnPinning` to `true` on the DataTable:

```vue
<DataTable
  :columns="columns"
  :data="data"
  :page-count="pageCount"
  :on-server-side-change="handleServerSideChange"
  :enable-column-pinning="true"
/>
```

When column pinning is enabled, the column header dropdown menu gains "Pin Left", "Pin Right", and "Unpin" options. Users can interactively pin and unpin columns.

## Default Pinning

Use the `defaultPinning` prop to define which columns are pinned by default. Default-pinned columns are locked and cannot be unpinned by the user through the UI.

```vue
<DataTable
  :columns="columns"
  :data="data"
  :page-count="pageCount"
  :on-server-side-change="handleServerSideChange"
  :enable-column-pinning="true"
  :default-pinning="{ left: ['select', 'name'], right: ['actions'] }"
/>
```

The column IDs in `defaultPinning` must match the column `id` or `accessorKey` used in your column definitions:

- For accessor columns: the ID is the accessor key (e.g., `'name'`, `'email'`)
- For the selection column: the ID is `'select'` (or the custom `id` you specified)
- For the actions column: the ID is `'actions'` (or the custom `id` you specified)
- For expander columns: the ID is `'expander'` (or the custom `id` you specified)

### Default Pinning vs. User Pinning

| Behavior                | Default-pinned | User-pinned                   |
| ----------------------- | -------------- | ----------------------------- |
| Show pin icon in header | No             | Yes                           |
| Can be unpinned by user | No             | Yes                           |
| Reset button in toolbar | No             | Yes (resets to default state) |
| Survives reset          | Yes            | No (removed on reset)         |

## Disabling Pinning Per Column

Individual columns can opt out of pinning:

```ts
const helper = createColumnHelper<Employee>()

const columns = [
  helper.accessor('name', { title: 'Name', enablePinning: true }), // default
  helper.accessor('avatar', { title: 'Avatar', enablePinning: false }), // cannot be pinned
]
```

The selection, actions, and expander columns all have `enablePinning: true` by default.

## How Pinning Works

The DataTable uses the `usePinnedColumns` composable internally to manage pinned column rendering:

1. **CSS custom properties**: Each pinned cell gets a CSS custom property (`--col-left-offset` or `--col-right-offset`) with its calculated pixel offset
2. **Sticky positioning**: Pinned cells use `position: sticky` with the calculated offsets
3. **Shadow feedback**: A visual shadow appears on the boundary between pinned and scrollable columns when the table is scrolled
4. **ResizeObserver**: Column offsets are recalculated automatically when column widths change

The system handles multiple pinned columns stacking correctly -- each column's offset accounts for the widths of all columns pinned before it.

## Programmatic Pinning

Access pinning methods through the exposed table state:

```vue
<script setup lang="ts">
import { ref } from 'vue'
import { DataTable } from '@meldui/vue'

const tableRef = ref<InstanceType<typeof DataTable>>()

function pinEmailLeft() {
  tableRef.value?.pinColumn('email', 'left')
}

function unpinEmail() {
  tableRef.value?.unpinColumn('email')
}

function resetToDefaults() {
  tableRef.value?.resetPinning()
}
</script>

<template>
  <DataTable ref="tableRef" :enable-column-pinning="true" ... />
</template>
```

### Exposed Pinning Methods

| Method                          | Type                                           | Description                                                  |
| ------------------------------- | ---------------------------------------------- | ------------------------------------------------------------ |
| `pinColumn(columnId, position)` | `(id: string, pos: 'left' \| 'right') => void` | Pin a column to the specified side                           |
| `unpinColumn(columnId)`         | `(id: string) => void`                         | Unpin a column from both sides                               |
| `resetPinning()`                | `() => void`                                   | Reset pinning to the `defaultPinning` state                  |
| `columnPinning`                 | `Ref<ColumnPinningState>`                      | Current pinning state: `{ left: string[], right: string[] }` |

## Reset Pinning Button

When the user pins columns beyond the default pinning configuration, a "Reset Pinning" button automatically appears in the toolbar. Clicking it restores pinning to the `defaultPinning` state.

## Stacking Behavior

Pinned columns stack as follows:

- **Left-pinned**: New columns are added to the right of existing left-pinned columns (stacking toward the center)
- **Right-pinned**: New columns are added to the left of existing right-pinned columns (stacking toward the center)

If a column is already pinned to one side and is pinned to the other, it is automatically removed from the original side first.

## Complete Example

```vue
<script setup lang="ts">
import { ref } from 'vue'
import { DataTable, createColumnHelper, cellRenderers } from '@meldui/vue'
import { IconEdit, IconTrash } from '@meldui/tabler-vue'

interface Employee {
  id: number
  name: string
  email: string
  department: string
  title: string
  location: string
  salary: number
  phone: string
}

const helper = createColumnHelper<Employee>()

const columns = [
  helper.selection(),
  helper.accessor('id', { title: 'ID', size: 80 }),
  helper.accessor('name', { title: 'Name' }),
  helper.accessor('email', { title: 'Email' }),
  helper.accessor('department', { title: 'Department' }),
  helper.accessor('title', { title: 'Job Title' }),
  helper.accessor('location', { title: 'Location' }),
  helper.accessor('salary', {
    title: 'Salary',
    cell: cellRenderers.currency({ currency: 'USD' }),
  }),
  helper.accessor('phone', { title: 'Phone' }),
  helper.actions({
    display: 'dropdown',
    actions: [
      { label: 'Edit', icon: IconEdit, onClick: (row) => editEmployee(row.original) },
      {
        label: 'Delete',
        icon: IconTrash,
        variant: 'destructive',
        onClick: (row) => deleteEmployee(row.original),
      },
    ],
  }),
]

const data = ref<Employee[]>([])
const pageCount = ref(0)

async function handleServerSideChange({ sorting, filters, pagination }) {
  // fetch data...
}
</script>

<template>
  <DataTable
    :columns="columns"
    :data="data"
    :page-count="pageCount"
    :on-server-side-change="handleServerSideChange"
    :enable-row-selection="true"
    :enable-column-pinning="true"
    :default-pinning="{
      left: ['select', 'name'],
      right: ['actions'],
    }"
  />
</template>
```

In this example, the selection checkbox and name column are always visible on the left, and the actions dropdown is always visible on the right, regardless of horizontal scroll position.
